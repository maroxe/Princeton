%% Primal problem ---------------------------------
n = 7;
A = [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 -1 -1 -1 -1 -1 -1 -1 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 -1 -1 -1 -1 -1 -1 -1 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 -1 -1 -1 -1 -1 -1 -1 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 -1 -1 -1 -1 -1 -1 -1 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 -1 -1 -1 -1 -1 -1 -1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0];
A = reshape(A, n*n, n).';
c = [1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0];
W = [0 5 4 8 0 0 0 0 0 0 1 3 0 0 0 0 0 0 0 5 0 0 0 3 0 4 6 0 0 0 0 0 0 1    10 0 0 0 0 1 0 6 0 0 0 0 0 1 0];
b = zeros(7, 1);
f = intlinprog(-c, 49, [], [], A, b, W*0, W);
c * f

%% Dual ---------------------------------
AA =  [A.' -eye(n*n); zeros(n*n, n) -eye(n*n)];
CC = - [c zeros(1, n*n)].';
V = [zeros(1, n) W] ;

g = intlinprog(V,52, AA, CC);
V * g
